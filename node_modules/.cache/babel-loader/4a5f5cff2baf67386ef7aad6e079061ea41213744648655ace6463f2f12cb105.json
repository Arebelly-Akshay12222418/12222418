{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\text\\\\etp\\\\url-shortener-react\\\\src\\\\components\\\\ShortenForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Typography, Box, Grid } from '@mui/material';\nimport { logger } from './LoggerMiddleware';\nimport { generateShortcode, isValidURL } from '../utils/Helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ShortenForm({\n  setUrls\n}) {\n  _s();\n  const [inputs, setInputs] = useState([{\n    url: '',\n    validity: '',\n    shortcode: ''\n  }]);\n  const handleChange = (index, field, value) => {\n    const updated = [...inputs];\n    updated[index][field] = value;\n    setInputs(updated);\n  };\n  const handleAddInput = () => {\n    if (inputs.length < 5) setInputs([...inputs, {\n      url: '',\n      validity: '',\n      shortcode: ''\n    }]);\n  };\n  const handleSubmit = () => {\n    const shortened = [];\n    for (let i = 0; i < inputs.length; i++) {\n      const {\n        url,\n        validity,\n        shortcode\n      } = inputs[i];\n      if (!url || !isValidURL(url)) {\n        alert(`Invalid URL at row ${i + 1}`);\n        return;\n      }\n      const short = shortcode || generateShortcode();\n      const now = new Date();\n      const validMins = parseInt(validity) || 30;\n      const expiry = new Date(now.getTime() + validMins * 60000);\n      const item = {\n        id: short,\n        original: url,\n        shortUrl: `http://localhost:3000/${short}`,\n        createdAt: now.toISOString(),\n        expiresAt: expiry.toISOString(),\n        clicks: []\n      };\n      shortened.push(item);\n      logger('Short URL created', item);\n    }\n    const stored = JSON.parse(localStorage.getItem('urls')) || [];\n    const updated = [...stored, ...shortened];\n    localStorage.setItem('urls', JSON.stringify(updated));\n    setUrls(updated);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Shorten URLs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), inputs.map((input, idx) => /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 1,\n      mt: 1,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Original URL\",\n          value: input.url,\n          onChange: e => handleChange(idx, 'url', e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Validity (min)\",\n          type: \"number\",\n          value: input.validity,\n          onChange: e => handleChange(idx, 'validity', e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 3,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Custom shortcode (opt)\",\n          value: input.shortcode,\n          onChange: e => handleChange(idx, 'shortcode', e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 2,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleAddInput,\n        disabled: inputs.length >= 5,\n        children: \"+ Add URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: handleSubmit,\n        sx: {\n          ml: 2\n        },\n        children: \"Shorten\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(ShortenForm, \"y+WsQHHSotoaADGZtuGjDHd1CcA=\");\n_c = ShortenForm;\nvar _c;\n$RefreshReg$(_c, \"ShortenForm\");","map":{"version":3,"names":["React","useState","TextField","Button","Typography","Box","Grid","logger","generateShortcode","isValidURL","jsxDEV","_jsxDEV","ShortenForm","setUrls","_s","inputs","setInputs","url","validity","shortcode","handleChange","index","field","value","updated","handleAddInput","length","handleSubmit","shortened","i","alert","short","now","Date","validMins","parseInt","expiry","getTime","item","id","original","shortUrl","createdAt","toISOString","expiresAt","clicks","push","stored","JSON","parse","localStorage","getItem","setItem","stringify","p","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","map","input","idx","container","spacing","mt","xs","fullWidth","label","onChange","e","target","type","onClick","disabled","sx","ml","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/text/etp/url-shortener-react/src/components/ShortenForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextField, Button, Typography, Box, Grid } from '@mui/material';\nimport { logger } from './LoggerMiddleware';\nimport { generateShortcode, isValidURL } from '../utils/Helper';\n\nexport default function ShortenForm({ setUrls }) {\n  const [inputs, setInputs] = useState([{ url: '', validity: '', shortcode: '' }]);\n\n  const handleChange = (index, field, value) => {\n    const updated = [...inputs];\n    updated[index][field] = value;\n    setInputs(updated);\n  };\n\n  const handleAddInput = () => {\n    if (inputs.length < 5) setInputs([...inputs, { url: '', validity: '', shortcode: '' }]);\n  };\n\n  const handleSubmit = () => {\n    const shortened = [];\n    for (let i = 0; i < inputs.length; i++) {\n      const { url, validity, shortcode } = inputs[i];\n      if (!url || !isValidURL(url)) {\n        alert(`Invalid URL at row ${i + 1}`);\n        return;\n      }\n      const short = shortcode || generateShortcode();\n      const now = new Date();\n      const validMins = parseInt(validity) || 30;\n      const expiry = new Date(now.getTime() + validMins * 60000);\n\n      const item = {\n        id: short,\n        original: url,\n        shortUrl: `http://localhost:3000/${short}`,\n        createdAt: now.toISOString(),\n        expiresAt: expiry.toISOString(),\n        clicks: [],\n      };\n\n      shortened.push(item);\n      logger('Short URL created', item);\n    }\n\n    const stored = JSON.parse(localStorage.getItem('urls')) || [];\n    const updated = [...stored, ...shortened];\n    localStorage.setItem('urls', JSON.stringify(updated));\n    setUrls(updated);\n  };\n\n  return (\n    <Box p={2}>\n      <Typography variant=\"h5\">Shorten URLs</Typography>\n      {inputs.map((input, idx) => (\n        <Grid container spacing={1} key={idx} mt={1}>\n          <Grid item xs={4}>\n            <TextField fullWidth label=\"Original URL\" value={input.url}\n              onChange={e => handleChange(idx, 'url', e.target.value)} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Validity (min)\" type=\"number\" value={input.validity}\n              onChange={e => handleChange(idx, 'validity', e.target.value)} />\n          </Grid>\n          <Grid item xs={3}>\n            <TextField fullWidth label=\"Custom shortcode (opt)\" value={input.shortcode}\n              onChange={e => handleChange(idx, 'shortcode', e.target.value)} />\n          </Grid>\n        </Grid>\n      ))}\n      <Box mt={2}>\n        <Button onClick={handleAddInput} disabled={inputs.length >= 5}>+ Add URL</Button>\n        <Button variant=\"contained\" onClick={handleSubmit} sx={{ ml: 2 }}>Shorten</Button>\n      </Box>\n    </Box>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}