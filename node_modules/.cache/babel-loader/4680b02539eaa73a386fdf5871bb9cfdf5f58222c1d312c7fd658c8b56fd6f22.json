{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\text\\\\etp\\\\url-shortener-react\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter, Routes, Route, useParams, Navigate } from 'react-router-dom';\nimport ShortenForm from './components/ShortenForm';\nimport StatsPage from './components/StatsPage';\nimport { logger } from './components/LoggerMiddleware';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RedirectToOriginal() {\n  _s();\n  const {\n    code\n  } = useParams();\n  const stored = JSON.parse(localStorage.getItem('urls')) || [];\n  const entryIndex = stored.findIndex(item => item.id === code);\n  if (entryIndex !== -1) {\n    const entry = stored[entryIndex];\n    const click = {\n      time: new Date().toISOString(),\n      source: 'React App',\n      location: 'India (simulated)'\n    };\n    entry.clicks.push(click);\n    logger('Short URL clicked', click);\n    stored[entryIndex] = entry;\n    localStorage.setItem('urls', JSON.stringify(stored));\n    window.location.href = entry.original;\n  }\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this);\n}\n_s(RedirectToOriginal, \"4foyCwpyVai4jWiUiEmrjhFIrXM=\", false, function () {\n  return [useParams];\n});\n_c = RedirectToOriginal;\nfunction App() {\n  _s2();\n  const [, setUrls] = useState(JSON.parse(localStorage.getItem('urls')) || []);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(ShortenForm, {\n          setUrls: setUrls\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/stats\",\n        element: /*#__PURE__*/_jsxDEV(StatsPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/:code\",\n        element: /*#__PURE__*/_jsxDEV(RedirectToOriginal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"GOAUjVYibsw+jzyDzK0xIzjYTv0=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"RedirectToOriginal\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Routes","Route","useParams","Navigate","ShortenForm","StatsPage","logger","jsxDEV","_jsxDEV","RedirectToOriginal","_s","code","stored","JSON","parse","localStorage","getItem","entryIndex","findIndex","item","id","entry","click","time","Date","toISOString","source","location","clicks","push","setItem","stringify","window","href","original","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s2","setUrls","children","path","element","_c2","$RefreshReg$"],"sources":["C:/xampp/htdocs/text/etp/url-shortener-react/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { BrowserRouter, Routes, Route, useParams, Navigate } from 'react-router-dom';\nimport ShortenForm from './components/ShortenForm';\nimport StatsPage from './components/StatsPage';\nimport { logger } from './components/LoggerMiddleware';\n\nfunction RedirectToOriginal() {\n  const { code } = useParams();\n  const stored = JSON.parse(localStorage.getItem('urls')) || [];\n  const entryIndex = stored.findIndex(item => item.id === code);\n\n  if (entryIndex !== -1) {\n    const entry = stored[entryIndex];\n    const click = {\n      time: new Date().toISOString(),\n      source: 'React App',\n      location: 'India (simulated)',\n    };\n    entry.clicks.push(click);\n    logger('Short URL clicked', click);\n    stored[entryIndex] = entry;\n    localStorage.setItem('urls', JSON.stringify(stored));\n    window.location.href = entry.original;\n  }\n\n  return <Navigate to=\"/\" />;\n}\n\nfunction App() {\n  const [, setUrls] = useState(JSON.parse(localStorage.getItem('urls')) || []);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<ShortenForm setUrls={setUrls} />} />\n        <Route path=\"/stats\" element={<StatsPage />} />\n        <Route path=\"/:code\" element={<RedirectToOriginal />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}