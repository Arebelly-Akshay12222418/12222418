{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\text\\\\etp\\\\url-shortener-react\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { BrowserRouter, Routes, Route, Navigate, useParams } from 'react-router-dom';\nimport ShortenForm from './components/ShortenForm';\nimport StatsPage from './components/StatsPage';\nimport { logger } from './components/LoggerMiddleware';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RedirectToOriginal() {\n  _s();\n  const {\n    code\n  } = useParams();\n  const storedLinks = JSON.parse(localStorage.getItem('urls')) || [];\n  const index = storedLinks.findIndex(item => item.id === code);\n  if (index !== -1) {\n    const matchedEntry = storedLinks[index];\n    const newClick = {\n      time: new Date().toISOString(),\n      source: 'React App',\n      location: 'India (simulated)'\n    };\n    matchedEntry.clicks.push(newClick);\n    logger('Short URL clicked', newClick);\n    storedLinks[index] = matchedEntry;\n    localStorage.setItem('urls', JSON.stringify(storedLinks));\n    window.location.href = matchedEntry.original;\n  }\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this);\n}\n_s(RedirectToOriginal, \"4foyCwpyVai4jWiUiEmrjhFIrXM=\", false, function () {\n  return [useParams];\n});\n_c = RedirectToOriginal;\nfunction App() {\n  _s2();\n  // We just use this to trigger a re-render after storing new links\n  const [, setUrls] = useState(JSON.parse(localStorage.getItem('urls')) || []);\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(ShortenForm, {\n          setUrls: setUrls\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/stats\",\n        element: /*#__PURE__*/_jsxDEV(StatsPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/:code\",\n        element: /*#__PURE__*/_jsxDEV(RedirectToOriginal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"GOAUjVYibsw+jzyDzK0xIzjYTv0=\");\n_c2 = App;\nexport default App;\nvar _c, _c2;\n$RefreshReg$(_c, \"RedirectToOriginal\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","BrowserRouter","Routes","Route","Navigate","useParams","ShortenForm","StatsPage","logger","jsxDEV","_jsxDEV","RedirectToOriginal","_s","code","storedLinks","JSON","parse","localStorage","getItem","index","findIndex","item","id","matchedEntry","newClick","time","Date","toISOString","source","location","clicks","push","setItem","stringify","window","href","original","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s2","setUrls","children","path","element","_c2","$RefreshReg$"],"sources":["C:/xampp/htdocs/text/etp/url-shortener-react/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  Navigate,\n  useParams\n} from 'react-router-dom';\n\nimport ShortenForm from './components/ShortenForm';\nimport StatsPage from './components/StatsPage';\nimport { logger } from './components/LoggerMiddleware';\n\nfunction RedirectToOriginal() {\n  const { code } = useParams();\n  const storedLinks = JSON.parse(localStorage.getItem('urls')) || [];\n\n  const index = storedLinks.findIndex(item => item.id === code);\n\n  if (index !== -1) {\n    const matchedEntry = storedLinks[index];\n\n    const newClick = {\n      time: new Date().toISOString(),\n      source: 'React App',\n      location: 'India (simulated)'\n    };\n\n    matchedEntry.clicks.push(newClick);\n    logger('Short URL clicked', newClick);\n\n    storedLinks[index] = matchedEntry;\n    localStorage.setItem('urls', JSON.stringify(storedLinks));\n\n    window.location.href = matchedEntry.original;\n  }\n\n  return <Navigate to=\"/\" />;\n}\n\nfunction App() {\n  // We just use this to trigger a re-render after storing new links\n  const [, setUrls] = useState(JSON.parse(localStorage.getItem('urls')) || []);\n\n  return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<ShortenForm setUrls={setUrls} />} />\n        <Route path=\"/stats\" element={<StatsPage />} />\n        <Route path=\"/:code\" element={<RedirectToOriginal />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}